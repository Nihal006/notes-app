sequenceDiagram
    participant browser
    participant server

    Note right of browser: User submits form\n(JS handles submit)

    browser->>browser: preventDefault()
    browser->>browser: Add note to local state
    browser->>browser: Re-render notes list

    browser->>server: POST /new_note_spa
    activate server
    Note right of browser: JSON data sent\n(Content-Type: application/json)
    server->>server: Save note
    server-->>browser: 201 Created
    deactivate server

    Note right of browser: No redirect,\nno page reload
